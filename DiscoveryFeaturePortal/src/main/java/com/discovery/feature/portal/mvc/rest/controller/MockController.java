package com.discovery.feature.portal.mvc.rest.controller;

import org.springframework.http.MediaType;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import com.discovery.feature.portal.mvc.type.FeatureBuilder;
import com.google.gson.Gson;

@Controller
@RequestMapping("/Mock")
public class MockController {
	
	String feaurePantallaJson = "[{\"comments\":[{\"line\":1,\"value\":\"# language: es\"}],\"line\":3,\"elements\":[{\"line\":6,\"name\":\"\",\"description\":\"\",\"type\":\"background\",\"keyword\":\"Antecedentes\",\"steps\":[{\"line\":7,\"name\":\"he navegado al portal de aplicación.\",\"keyword\":\"Dado \"},{\"line\":8,\"name\":\"he navegado a la pantalla Principal de mi Aplicacion\",\"keyword\":\"Y \"},{\"line\":9,\"name\":\"he puesto el puntero sobre la opcion \\\"Configuración\\\"\",\"keyword\":\"Y \"},{\"line\":10,\"name\":\"he seleccionado la opción \\\"Plantilla de Materiales\\\"\",\"keyword\":\"Y \"},{\"line\":11,\"name\":\"he Seleccionado la pestaña \\\"Detalle\\\"\",\"keyword\":\"Y \"},{\"line\":12,\"name\":\"existen las Plantillas de Materiales:\",\"rows\":[{\"cells\":[\"Nombre\",\"Estado\",\"Descripcion\"],\"line\":13},{\"cells\":[\"Prueba\",\"Activo\",\"Plantilla de Materiales de Prueba\"],\"line\":14}],\"keyword\":\"Y \"}]},{\"line\":17,\"name\":\"Guardar nueva Plantilla de Materiales exitosamente\",\"description\":\"\",\"id\":\"guardar-plantilla-de-materiales;guardar-nueva-plantilla-de-materiales-exitosamente\",\"type\":\"scenario\",\"keyword\":\"Escenario\",\"steps\":[{\"line\":18,\"name\":\"He llenado los campos con la Informacion:\",\"rows\":[{\"cells\":[\"Campos\",\"Informacion\"],\"line\":19},{\"cells\":[\"Nombre\",\"Prueba2\"],\"line\":20},{\"cells\":[\"Estado\",\"Activo\"],\"line\":21},{\"cells\":[\"Descripcion\",\"Plantilla de Materiales de Prueba\"],\"line\":22}],\"keyword\":\"Y \"},{\"line\":23,\"name\":\"Hago click en el boton \\\"Guardar\\\"\",\"keyword\":\"Cuando \"},{\"line\":24,\"name\":\"Espero que la Informacion en los campos se persista\",\"keyword\":\"Entonces \"},{\"line\":25,\"name\":\"Se muestren los Campos con la Informacion:\",\"rows\":[{\"cells\":[\"Campos\",\"Informacion\"],\"line\":26},{\"cells\":[\"Nombre\",\"Prueba2\"],\"line\":27},{\"cells\":[\"Estado\",\"Activo\"],\"line\":28},{\"cells\":[\"Descripcion\",\"Plantilla de Materiales de Prueba\"],\"line\":29}],\"keyword\":\"Y \"}],\"tags\":[{\"line\":16,\"name\":\"@sunnyDay\"}]},{\"line\":32,\"name\":\"Guardar Plantilla de Materiales Duplicada\",\"description\":\"\",\"id\":\"guardar-plantilla-de-materiales;guardar-plantilla-de-materiales-duplicada\",\"type\":\"scenario\",\"keyword\":\"Escenario\",\"steps\":[{\"line\":33,\"name\":\"He llenado los campos con la Informacion:\",\"rows\":[{\"cells\":[\"Campos\",\"Informacion\"],\"line\":34},{\"cells\":[\"Nombre\",\"Prueba\"],\"line\":35},{\"cells\":[\"Estado\",\"Activo\"],\"line\":36},{\"cells\":[\"Descripcion\",\"Plantilla de Materiales de Prueba\"],\"line\":37}],\"keyword\":\"Y \"},{\"line\":38,\"name\":\"Hago click en el boton \\\"Guardar\\\"\",\"keyword\":\"Cuando \"},{\"line\":39,\"name\":\"Debe desplegarse el mensaje de Error \\\"Esta Plantilla ya existe\\\"\",\"keyword\":\"Entonces \"}],\"tags\":[{\"line\":31,\"name\":\"@sunnyDay\"}]},{\"line\":43,\"name\":\"Guardar Cambios Plantilla de Materiales\",\"description\":\"\",\"id\":\"guardar-plantilla-de-materiales;guardar-cambios-plantilla-de-materiales\",\"type\":\"scenario\",\"keyword\":\"Escenario\",\"steps\":[{\"line\":44,\"name\":\"he realizado una busqueda exitosa de la plantilla \\\"Prueba\\\"\",\"keyword\":\"Y \"},{\"line\":45,\"name\":\"He seleccionado la PLantilla de Nombre \\\"Prueba\\\"\",\"keyword\":\"Y \"},{\"line\":46,\"name\":\"He Modificado la Informacion en los campos:\",\"rows\":[{\"cells\":[\"Campos\",\"Informacion\"],\"line\":47},{\"cells\":[\"Nombre\",\"Prueba\"],\"line\":48},{\"cells\":[\"Estado\",\"Inactivo\"],\"line\":49},{\"cells\":[\"Descripcion\",\"Plantilla de Materiales de Prueba 2\"],\"line\":50}],\"keyword\":\"Y \"},{\"line\":51,\"name\":\"Hago click en el boton \\\"Guardar\\\"\",\"keyword\":\"Cuando \"},{\"line\":52,\"name\":\"Espero que la Informacion en los campos se persista:\",\"rows\":[{\"cells\":[\"Campos\",\"Informacion\"],\"line\":53},{\"cells\":[\"Nombre\",\"Prueba\"],\"line\":54},{\"cells\":[\"Estado\",\"Inactivo\"],\"line\":55},{\"cells\":[\"Descripcion\",\"Plantilla de Materiales de Prueba 2\"],\"line\":56}],\"keyword\":\"Entonces \"},{\"line\":57,\"name\":\"Debe desplegarse un mensaje indicando que se ha modificado la plantilla de nombre \\\"Prueba\\\"\",\"keyword\":\"Y \"},{\"line\":58,\"name\":\"Se muestren los Campos con la Informacion:\",\"rows\":[{\"cells\":[\"Campos\",\"Informacion\"],\"line\":59},{\"cells\":[\"Nombre\",\"Prueba\"],\"line\":60},{\"cells\":[\"Estado\",\"Inactivo\"],\"line\":61},{\"cells\":[\"Descripcion\",\"Plantilla de Materiales de Prueba 2\"],\"line\":62}],\"keyword\":\"Y \"}],\"tags\":[{\"line\":42,\"name\":\"@sunnyDay\"}]},{\"line\":65,\"name\":\"Guardar Plantilla de Materiales con sesión Expirada\",\"description\":\"\",\"id\":\"guardar-plantilla-de-materiales;guardar-plantilla-de-materiales-con-sesión-expirada\",\"type\":\"scenario\",\"keyword\":\"Escenario\",\"steps\":[{\"line\":66,\"name\":\"La sesión ha expirado.\",\"keyword\":\"Y \"},{\"line\":67,\"name\":\"Hago click en el boton \\\"Guardar\\\"\",\"keyword\":\"Cuando \"},{\"line\":68,\"name\":\"Debo ser redirigido a la pantalla de autenticación\",\"keyword\":\"Entonces \"}]}],\"name\":\"Guardar Plantilla de Materiales\",\"description\":\"como usuario del sistema, presiono el boton guardar, espero poder guardar los cambios a una Plantilla de Materiales\",\"id\":\"guardar-plantilla-de-materiales\",\"keyword\":\"Característica\",\"uri\":\"C:\\\\Users\\\\Jose Eduardo\\\\eclipse-workspace\\\\PruebaLecturaFeature\\\\src\\\\com\\\\java\\\\resource\\\\feature\\\\Boton Guardar Detalle.feature\",\"tags\":[{\"line\":2,\"name\":\"@BotonGuardarPlantillaMateriales\"},{\"line\":2,\"name\":\"@PlantillaMateriales\"},{\"line\":2,\"name\":\"@pantalla\"}]}]\r\n";
	String featureFlujoJson ="[{\"comments\":[{\"line\":1,\"value\":\"# language: es\"}],\"line\":4,\"elements\":[{\"examples\":[{\"line\":14,\"name\":\"Escenarios\",\"description\":\"\",\"id\":\"enviar-respuesta-activacion-stb;enviar-respuesta-activacion-stb-satisfactoriamente;escenarios\",\"rows\":[{\"cells\":[\"mensaje\",\"orden\",\"flujo\",\"proceso\",\"actividad\",\"actividadid\"],\"line\":15,\"id\":\"enviar-respuesta-activacion-stb;enviar-respuesta-activacion-stb-satisfactoriamente;escenarios;1\"},{\"cells\":[\"agregarstbdth.xml\",\"14247774\",\"EAID_C52F4272_FCCE_4e4d_B0D5_7447484F5CB4\",\"Activa STB/Smartcard\",\"Envia respuesta de activacion STB\",\"EAID_CF0D44FA_EAE8_4bfc_8ACC_AF8557BA7B2E\"],\"line\":16,\"id\":\"enviar-respuesta-activacion-stb;enviar-respuesta-activacion-stb-satisfactoriamente;escenarios;2\"}],\"keyword\":\"Ejemplos\"}],\"line\":8,\"name\":\"Enviar respuesta activacion STB satisfactoriamente\",\"description\":\"\",\"id\":\"enviar-respuesta-activacion-stb;enviar-respuesta-activacion-stb-satisfactoriamente\",\"type\":\"scenario_outline\",\"keyword\":\"Esquema del escenario\",\"steps\":[{\"line\":9,\"name\":\"He eliminado todo proceso \\\"\\u003cproceso\\u003e\\\" key \\\"\\u003cflujo\\u003e\\\" con orden id interno de orden de trabajo \\\"\\u003corden\\u003e\\\"\",\"keyword\":\"Dado \"},{\"line\":10,\"name\":\"He iniciado el proceso \\\"\\u003cproceso\\u003e\\\" key \\\"\\u003cflujo\\u003e\\\" con orden de trabajo \\\"\\u003cmensaje\\u003e\\\" e inicializado la variable \\\"workOrderId\\\" con id interno orden de trabajo\",\"keyword\":\"Y \"},{\"line\":11,\"name\":\"He activado la actividad \\\"\\u003cactividad\\u003e\\\" id \\\"\\u003cactividadid\\u003e\\\" para id interno de orden \\\"\\u003corden\\u003e\\\"\",\"keyword\":\"Cuando \"},{\"line\":12,\"name\":\"Debe lanzar exception \\\"NotImplementedException\\\"\",\"keyword\":\"Entonces \"}],\"tags\":[{\"line\":7,\"name\":\"@SunnyDay\"}]}],\"name\":\"Enviar respuesta activacion STB\",\"description\":\"Tarea enviar el resultado de activacion de STB/SmartCard a movil\",\"id\":\"enviar-respuesta-activacion-stb\",\"keyword\":\"Característica\",\"uri\":\"C:\\\\Users\\\\jleon\\\\eclipse-workspace\\\\PruebaLecturaFeature\\\\src\\\\com\\\\java\\\\resource\\\\feature\\\\EnviarRespuestaActivacionSTB.feature\",\"tags\":[{\"line\":2,\"name\":\"@flujo\"},{\"line\":2,\"name\":\"@ActivacionSTBSmartCard\"}]}]\r\n";

	@RequestMapping(value = "/test",produces=MediaType.APPLICATION_JSON_VALUE,  method = RequestMethod.GET)
	public @ResponseBody String findOne() {
		String json = new Gson().toJson(feaurePantallaJson);
		Object objecto =  new Gson().fromJson(feaurePantallaJson, Object.class);
		return new Gson().toJson(objecto);
	}
	
	@RequestMapping(value = "/testPantalla",produces=MediaType.APPLICATION_JSON_VALUE,  method = RequestMethod.GET)
	public @ResponseBody String testPantalla() {
		FeatureBuilder[] objecto =  new Gson().fromJson(feaurePantallaJson, FeatureBuilder[].class);
		return new Gson().toJson(objecto);
	}
	
	@RequestMapping(value = "/testFlujo",produces=MediaType.APPLICATION_JSON_VALUE,  method = RequestMethod.GET)
	public @ResponseBody String testFlujo() {
		String json = new Gson().toJson(featureFlujoJson);
		Object objecto =  new Gson().fromJson(featureFlujoJson, Object.class);
		return new Gson().toJson(objecto);
	}
	
	@RequestMapping(value = "/testFlujoObject",produces=MediaType.APPLICATION_JSON_VALUE,  method = RequestMethod.GET)
	public @ResponseBody String testFlujoObject() {
		FeatureBuilder[] objecto =  new Gson().fromJson(featureFlujoJson, FeatureBuilder[].class);
		return new Gson().toJson(objecto);
	}
}
